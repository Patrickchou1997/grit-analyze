<!-- <div class="admin-page-container">
  <h1>Admin Dashboard</h1>

  <section class="user-approval-section">
    <h2>Approve Registered Users</h2>
    <div *ngIf="isLoadingUsers">Loading users...</div>
    
    <div *ngIf=" !isLoadingUsers && registeredUsers.length===0">
      No registered users to approve.
    </div>
  </section>

  <section class="retrain-section">
    <h2>Retrain Machine Learning Model</h2>
    <button mat-raised-button color="accent" [disabled]="isRetraining" (click)="retrainModel()">
      Retrain Model
    </button>
  </section>
</div> -->

<div class="container">
  <section class="sectio-1">
    <div class="title-sectio-1">
      <span style="font-size: 22px;">Approve Registered Users:</span>
      <form class="example-form">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Filter</mat-label>
          <input type="text" aria-label="Filter" matInput (input)="txt_filter($event)" />
        </mat-form-field>
      </form>
    </div>
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource">
        ['ID', 'Username', 'Name', 'Email', 'Role', 'Approve', 'Delete']
        <!-- ID Column -->
        <ng-container matColumnDef="ID">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let user">{{ user.user_ID }}</td>
        </ng-container>
        <!-- Username Column -->
        <ng-container matColumnDef="Username">
          <th mat-header-cell *matHeaderCellDef>Username</th>
          <td mat-cell *matCellDef="let user">{{ user.user_name }}</td>
        </ng-container>
        <!-- Name Column -->
        <ng-container matColumnDef="Name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let user">
            {{ user.first_name }} {{ user.last_name }}
          </td>
        </ng-container>
        <!-- Email Column -->
        <ng-container matColumnDef="Email">
          <th mat-header-cell *matHeaderCellDef>Email</th>
          <td mat-cell *matCellDef="let user">{{ user.email }}</td>
        </ng-container>
        <!-- Role Column -->
        <ng-container matColumnDef="Role">
          <th mat-header-cell *matHeaderCellDef>Role</th>
          <td mat-cell *matCellDef="let user">{{ user.user_role }}</td>
        </ng-container>
        <!-- Approve Column -->
        <ng-container matColumnDef="Approve">
          <th mat-header-cell *matHeaderCellDef style="text-align: center; vertical-align: middle;">Approve</th>
          <td mat-cell *matCellDef="let user" style="text-align: center; vertical-align: middle;">
            <button mat-icon-button style="margin: auto 0;"
              [ngStyle]="{'background-color': user.status == 'approved' ? '#A8E6A3':''}"
              (click)="approveUser(user.user_ID, user.status)">
              <mat-icon>check_circle_outline</mat-icon>
            </button>
          </td>
        </ng-container>
        <!-- Delete Column -->
        <ng-container matColumnDef="Delete">
          <th mat-header-cell *matHeaderCellDef style="text-align: center; vertical-align: middle;">Delete</th>
          <td mat-cell *matCellDef="let user" style="text-align: center; vertical-align: middle;">
            <button mat-icon-button style="margin: auto 0;" (click)="deleteUser(user.user_ID)">
              <mat-icon>delete_outline</mat-icon>
            </button>
          </td>
        </ng-container>
        <tr class="mat-header-row" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr class="row" mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic users">
      </mat-paginator>
    </div>
  </section>
  <!-- <section class="sectio-2">
    <span style="font-size: 22px; margin-right: 1rem;">Retrain Machine Learning Model: </span>
    <button mat-raised-button [disabled]="isRetraining" (click)="retrainModel()">
      Retrain Model
    </button>
  </section> -->
</div>